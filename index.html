<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paper Letter</title>

  <style>
    :root {
      --accent: #e63946;
      --bg: #ffe6f1;
      --paper-cream: #fff9f0;
      --paper-edge: #f0e6da;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background-image:
    linear-gradient(
      rgba(255, 255, 255, 0.75),
      rgba(255, 230, 241, 0.85)
    ),
    url("./image/baby2.png");

  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
    }

    .wrap {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      width: 420px;
      max-width: 92%;
      background: rgba(255,255,255,0.95);
      border-radius: 12px;
      padding: 28px;
      box-shadow: 0 10px 30px rgba(0,0,0,.12);
      text-align: center;
    }

    h1 {
      margin-bottom: 10px;
      color: var(--accent);
    }

    input {
      width: 85%;
      padding: 10px;
      border-radius: 999px;
      border: 2px solid var(--accent);
      text-align: center;
      font-size: 16px;
      outline: none;
    }

    .btn {
      margin-top: 14px;
      width: 90%;
      padding: 10px;
      border: none;
      border-radius: 8px;
      background: var(--accent);
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    .credit {
      margin-top: 10px;
      font-size: 12px;
      opacity: .7;
      font-style: italic;
    }

    .alert {
      margin-top: 12px;
      padding: 8px;
      color: white;
      display: none;
      border-radius: 8px;
      font-size: 14px;
    }

    /* OVERLAY */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: .25s;
    }

    .overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

   .letter {
      position: relative;
      width: 720px;
      max-width: 95%;
      max-height: 88%;
      padding: 48px 56px;
      overflow: auto;
      border-radius: 12px;

      background:
        radial-gradient(circle at 10% 10%, rgba(0,0,0,.015), transparent 8%),
        radial-gradient(circle at 90% 25%, rgba(0,0,0,.01), transparent 6%),
        radial-gradient(circle at 30% 80%, rgba(0,0,0,.01), transparent 6%),
        linear-gradient(90deg, rgba(0,0,0,.01) 0.5px, transparent 0.5px),
        var(--paper-cream);

      background-image: url("./image/baby2.png");
      background-size: cover;
      background-position: center;

      box-shadow: 0 30px 70px rgba(0,0,0,.45);
      transform: translateY(-10px) scale(.98);
      transition: .25s;
    }

    .overlay.open .letter {
      transform: translateY(0) scale(1);
    }

    .letter-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .letter h2 {
      color: var(--accent);
      font-family: "Times New Roman", serif;
    }

    .close-btn {
      border: 2px solid var(--accent);
      background: transparent;
      color: var(--accent);
      padding: 6px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }

    .letter-body {
      font-family: "Georgia", "Times New Roman", serif;
      font-size: 17px;
      line-height: 1.7;
      white-space: pre-wrap;
      color: #000;
    }
  </style>
</head>

<body>

  <div class="wrap">
    <div class="container">
      <h1>Please Enter Your Name</h1>
      <p style="font-size:26px;">ðŸ˜³</p>
      <input id="userName" placeholder="Your name here" />
      <button class="btn" id="submitBtn">Submit</button>
      <p class="credit">Created by Mark your lucky boyfriend</p>
      <div id="greetingAlert" class="alert"></div>
    </div>
  </div>

  <!-- OVERLAY LETTER -->
  <div id="overlay" class="overlay">
    <div class="letter">
      <div class="letter-header">
        <h2>A Letter for you</h2>
        <button id="closeBtn" class="close-btn">Close âœ•</button>
      </div>
      <div id="letterBody" class="letter-body"></div>
    </div>
  </div>

  <!-- ðŸŽµ BACKGROUND MUSIC -->
  <audio id="bgMusic" preload="auto">
    <source src="./image/Aerosmith - I Don't Want to Miss a Thing (Lyrics)-[AudioTrimmer.com].mp3" type="audio/mpeg">
  </audio>

  <script>
    let typingTimers = [];
    const bgMusic = document.getElementById("bgMusic");

    function cancelTyping() {
      typingTimers.forEach(t => clearTimeout(t));
      typingTimers = [];
    }

    function typeWriter(el, text, speed = 35) {
      let i = 0;
      function run() {
        if (i < text.length) {
          el.innerHTML += text[i] === "\n" ? "<br>" : text[i];
          i++;
          typingTimers.push(setTimeout(run, speed));
        }
      }
      run();
    }

    const template = (name) => `Good morning babe, I love you so much, walang araw na hindi kita naiisip, hindi ko kayang matiis na hindi ka makausap sa loob ng isang araw, yes po nahihirapan ako inaamin ko pero hindi ako mapapagod na mahalin ka ng sobra pa sa sobra kasi deserve mo na mahalin ka ng sobra pa sa sobra, napaka genuine ng puso mo, at napaka swerte ko at na win ko yun girlfriend ko yung maganda sa School namin o, from highschool na nag kakadaanan lang nag kikita pero di nila alam na sila pala pag dating ng panahon to kakilala pala sya ng kapatid ko to studyante ko na naging crush ko ng matagal torpe lang ako to naging girlfriend ko to my future wife, My future wife mahal na mahal kita, sa anak natin Samantha, Kyrie wait natin si mommy ha kakayanin ni daddy para sa inyong tatlo nila mommy can't wait to tell you two the story of daddy and mommy, and to my wife Ms. Lyanna Paula Tuico - Autria, please wag kang mapapagod sakin ha, mahirap ang situation natin alam natin parehas yun wag kang mapapagod okay? laban lang tayo asawa ko laban lang kakayanin natin to, this is a test form God, wag sana mabago ang feelings mo para sakin hanggang sa maka graduate ka mahal ko dahil hinding hindi magbabago yung sakin, ikaw at ikaw parin walang iba, 6 months lang naman yun kayang kaya natin yun babe kaya hiling ko lang wag ka pong mapapagod okay babe? mahal na mahall na mahal kita palagi hindi mag babago yun, the time if you reading this letter just smile okay I'm here to support you to cheer you to love you habang nabubuhay ako ipaparamdam ko sayo araw araw yung love ko sayo at araw araw kitang liligawan hindi mag babago yun. again I LOVE YOU MY ASAWA, BABE, BABY, MOMMY, MAHAL!!ðŸ˜˜ðŸ˜˜ðŸ˜˜â¤ï¸â¤ï¸`;

    const submitBtn = document.getElementById("submitBtn");
    const userNameInput = document.getElementById("userName");
    const overlay = document.getElementById("overlay");
    const letterBody = document.getElementById("letterBody");
    const closeBtn = document.getElementById("closeBtn");
    const alertBox = document.getElementById("greetingAlert");

    function fadeInMusic(audio) {
      audio.currentTime = 0;
      audio.volume = 0;
      audio.play();
      let v = 0;
      const fade = setInterval(() => {
        v += 0.05;
        audio.volume = Math.min(v, 0.5);
        if (v >= 0.5) clearInterval(fade);
      }, 150);
    }

    function openLetter(name) {
      cancelTyping();
      letterBody.innerHTML = "";
      overlay.classList.add("open");

      fadeInMusic(bgMusic);

      typeWriter(letterBody, `Dear ${name},\n\n${template(name)}`);
    }

    function closeLetter() {
      cancelTyping();
      overlay.classList.remove("open");
      bgMusic.pause();
      bgMusic.currentTime = 0;
    }

    function handleSubmit() {
      const name = userNameInput.value.trim();
      const allowed = ["Lyanna", "lyanna", "Lian", "lian", "Babe", "babe"];

      if (!name || !allowed.includes(name)) {
        alertBox.textContent = "Access Denied ðŸ˜";
        alertBox.style.background = "#dc3545";
        alertBox.style.display = "block";
        setTimeout(() => alertBox.style.display = "none", 2000);
        return;
      }
      openLetter(name);
    }

    submitBtn.onclick = handleSubmit;
    closeBtn.onclick = closeLetter;
    overlay.onclick = e => e.target === overlay && closeLetter();
  </script>

</body>
</html>
